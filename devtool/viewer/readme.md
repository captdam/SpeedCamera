# Plain Bitmap Video Viewer

This program is used to view the video saved in .data file in plain bitmap format.

This program can be used to inspect intermedia data generated by this project.

This program has been tested on both
- x86-64 PC with nVidia GPU which support most morden OpenGL version and;
- Raspberry Pi 4 4G with VideoCore which support OpenGL 2.x and OpenGL ES 3.1

![Devtool::Viewer](/docs/devtool_viewer.png)

## Compile

This program uses openGL to render the video on developer's screen. The computer geraphic card, other hardwares, and the software need to support at least OpenGL 3.1 ES.

GLFW and GLWE is used as dependence of this program. Make sure you have them installed before compile.

Use this command to compile:

```gcc main.c -D_FILE_OFFSET_BITS=64 -O3 -lX11 -lGLEW -lGL -lglfw3 -lpthread -lm -ldl```

Where:
- ```-D_FILE_OFFSET_BITS=64``` makes sure this program can open large file (>2G) on 32-bit machine.
- ```-lX11``` is used for x11 display. (optional for PC, required on RPi).
- ```-lGLEW``` Use GLEW to load GL functions.
- ```-lGL``` Link OpenGL libeary.
- ```-lglfw3``` Use GLFW to manage window and start OpenGL.
- ```-lpthread -lm -ldl``` Load other libeary and utils.

## Execute

To execute this program, use this command:

```./this inputFileName```

where:
- ```./this``` is path to the executable;
- ```inputFileName``` is path to the video file;

Example: Executing ```./a.out ../myVideo.data``` is used to display the video saved in file ```../myVideo.data```.

The header (first 8 bytes) of the video must be:
```C
typedef struct VideoHeader_t {
	uint16_t width;
	uint16_t height;
	uint16_t fps;
	uint16_t colorScheme;
} vh_t;
```